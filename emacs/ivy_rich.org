* Ivy-Rich settings

=Ivy= is the mechanism that handles all selection list. =Counsel= provides a super set of functions for navigating the file system, switching buffer etc. that expand on the basic features of =Ivy=.

Usually, the ~counsel~ version function has the better UX, for instance:

- Use =counsel-switch-buffer= instead of =switch-to-buffer= (Ivy version), you got a buffer list with extra info (size, mode, etc).

- Use =counsel-find-file= instead of =find-file= (Ivy version), you got file list which is better than before.

#+BEGIN_SRC emacs-lisp
  ;;
  ;; Make 'counsel-rg' preview possible
  ;;
  (defun my-counsel-rg-preview-advice (orig-fun &rest args)
    (minibuffer-with-setup-hook
        (lambda () (setq ivy-calling t))
        (apply orig-fun args))
  )

  (use-package counsel
    :init
        (setq counsel-minor-history 1
              counsel-M-x-history 1)
    :config
        (advice-add 'counsel-rg :around #'my-counsel-rg-preview-advice)
        ;;(setq ivy-initial-inputs-alist nil);; Don't start searches with ^
  )

  ;;
  ;; This package comes with rich transformers for commands from 'ivy' and 'counsel'.
  ;; It means display extra information when using 'ivy' and 'counsel', must to have
  ;;
  (use-package ivy-rich
    :after counsel
    :init
        (ivy-rich-mode 1)
  )
#+END_SRC


* Ivy-posframe

Resposition =Ivy='s window to anywhere you want.

#+begin_src emacs-lisp
      (use-package ivy-posframe
        :after counsel
        :init
            (setq ivy-posframe-display-functions-alist
                '((swiper          . ivy-posframe-display-at-point)
                  (complete-symbol . ivy-posframe-display-at-window-center)
                  (counsel-M-x     . ivy-posframe-display-at-window-center)
                  (t               . ivy-posframe-display)
                 )
            )
            (setq ivy-posframe-parameters
                '((left-fringe . 20)
                  (right-fringe . 20))
            )
        :config
            (ivy-posframe-mode 1)
      )
#+end_src
